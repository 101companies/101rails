<%= wicked_pdf_stylesheet_pack_tag  'application' %>
<%= wicked_pdf_javascript_pack_tag 'application' %>

<style>
  div.alwaysbreak { page-break-before: always; }
  div.nobreak:before { clear:both; }
  div.nobreak { page-break-inside: avoid; }
  iframe {
      display: none;
  }
  .video-title {
    display: none;
  }
</style>

<!-- <script>
  function number_pages() {
    var vars={};
    var x=document.location.search.substring(1).split('&');
    for(var i in x) {var z=x[i].split('=',2);vars[z[0]] = decodeURIComponent(z[1]);}
    var x=['frompage','topage','page','webpage','section','subsection','subsubsection'];
    for(var i in x) {
      var y = document.getElementsByClassName(x[i]);
      for(var j=0; j<y.length; ++j) y[j].textContent = vars[x[i]];
    }
  }
</script> -->

<% @pages&.each do |page| %>
  <%= fix_pdf_links render(partial: 'pages/page', formats: :html, locals: {:@script_render => true, page: page}) %>
<% end %>
